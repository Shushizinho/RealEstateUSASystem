@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

autonumber

'hide footbox
actor "Network Manager" as Manager
participant ":DivideStoresUI" as UI
participant ":DivideStoresController" as CTRL


activate Manager

        Manager -> UI : asks to divide stores into two sublists so that they have the closest number of\nproperties between the sublists
            activate UI

                UI -> CTRL** : create DivideStoresController

        UI --> Manager: requests the number of stores
    deactivate UI


    Manager -> UI : insert number of stores
        activate UI

        UI -> CTRL : getStores()
        activate CTRL
ref over CTRL
           Get Store List

       end ref

            CTRL --> UI : storeListDTO

        deactivate CTRL
loop number of stores
        UI -> Manager : provides the  stores and asks to select a store from the list of available stores
    deactivate UI
        Manager -> UI : selects store from list
    activate UI
            UI -> UI: addToStoreList(pRep)
        end

        UI -> CTRL : getPropertyNumberInEach(selectedStoresList)
            activate CTRL
ref over CTRL
           Get Number of Properties
            in each Store from list

       end ref

            CTRL -> UI : numberPropertiesList
        deactivate CTRL

        UI -> CTRL : divideStores(selectedStoresList,numberPropertiesList)
            activate CTRL
ref over CTRL
           Divide Stores between two sublists

       end ref

            CTRL -> UI : pairOfSublists
        deactivate CTRL

        UI -> Manager : provide a pair of sublists with minimum difference between the number of\nproperties associated with their stores
    deactivate UI

deactivate Manager

@enduml