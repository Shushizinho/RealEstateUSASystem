@startuml
'skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing true
skinparam linetype ortho
skinparam shadowing true
!pragma layout smetana

skinparam classAttributeIconSize 0

'left to right direction

class  ReplyToAgentAboutVisitRequestUI {
}

class ReplyToAgentAboutVisitRequestController {
    + GetVisitRequests()
    + getVisitRequestAgent(Stores)
    + addVisitRequestClientReply(reply)
    + getClientList()
    + createEmail(clientEmail, agentEmail, subject, mesage)
}
class PropertyDTO{
 -double price
 -double area

}
class DateTimeDTO{
-Calendar date

}

class Repositories {
    - Repositories()
    + getInstance() : Repositories
    + getClientRepository()
    + getVisitRequestRepository()
}

class ClientRepository{
    - ArrayList <Client> clients
    + getClients()
}
class Client{
    - Person person
}

class Person {
    - String name
    - String email
    - Integer passportNumber
    - long phoneNumber
    - String taxNumber
    - Address address
}



class VisitRequestRepository{
    - ArrayList <VisitRequest> visitRequest
    + getVisitRequestsAccepted()
    + createEmail(clientEmail, agentEmail, subject, mesage)

}

class VisitRequest{
    - Property property
    - String preferredDate
    - String timeSlot
    - String clientName
    - Integer clientPhoneNumber
    - String clientReply
    - Agent agent
    - Integer wasAccepted
    + setVisitRequestClientReply (reply)
    + createEmail(clientEmail, agentEmail, subject, mesage)
}

class VisitRequestMapper{
    + toEntity (VisitRequestDTO)
    + toDTO (VisitRequest)
}

class VisitRequestDTO {
    - PropertyDTO property
    - DateTimeDTO preferredDate
    - ArrayList<DateTime> timeSlot
    - String clientName
    - long clientPhoneNumber
    - String clientReply
    + VisitRequestDTO(PropertyDTO property,\nDateTimeDTO preferredDate, ArrayList<DateTime> timeSlot,\nString clientName, long clientPhoneNumber)
}

class PropertyTypeDTO{
-String Description



}
class AddressDTO{
  - String streetAddress
  - String city
  - String state
  - String zipCode
}


class StoreDTO{
  - Integer id
  - String designation
  - AddressDTO address
  - String email
  - long phoneNumber


}
class CLientDTO{
    - PersonDTO person
}

class PersonDTO{
   - String email
   - String name
   - Integer passportNumber
   - long phoneNumber
   - String taxNumber
   - AddressDTO address
}




Repositories --> Repositories : instance

ReplyToAgentAboutVisitRequestUI .> ReplyToAgentAboutVisitRequestController

ReplyToAgentAboutVisitRequestController .-> Repositories : repositories

Repositories --> "1" VisitRequestRepository

Repositories -->"1" ClientRepository

ClientRepository --> "1" Client

Client --> "1" Person


VisitRequestRepository "1" --> "1" VisitRequestMapper

VisitRequestMapper "1" --> "1" VisitRequest

VisitRequestMapper "1" -> "1" VisitRequestDTO

VisitRequestDTO "1" --> "1" PropertyDTO

VisitRequestDTO "1" -> "1" DateTimeDTO
PropertyDTO "1" ---> "1" StoreDTO

PropertyDTO "1" ---> "1" AddressDTO

PropertyDTO "1" ---> "1" CLientDTO

CLientDTO --> PersonDTO

PropertyDTO "1" ---> "1" PropertyTypeDTO


@enduml