@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

participant "Configuration" as Config
participant "EmailFilter" as EmFilter
participant "GmailFilter" as GmFilter
participant "HotmailFilter" as HmFilter
participant "YahooFilter" as YhFilter



autonumber 13

'hide footbox

         -> Config : createEmail(String sender, String receiver, String subject, String message)
            activate Config

            alt filter =
            Config -> EmFilter : createEmail(String sender, String receiver, String subject, String message)
                activate EmFilter

                    EmFilter -> GmFilter: createEmail(String sender, String receiver, String subject, String message)
                        activate GmFilter

                        GmFilter -> EmFilter  : message
                    deactivate GmFilter

                EmFilter --> Config  : message
            deactivate EmFilter
            end alt

            alt filter = t
            Config -> EmFilter : createEmail(String sender, String receiver, String subject, String message)
                activate EmFilter

                    EmFilter -> HmFilter: createEmail(String sender, String receiver, String subject, String message)
                        activate HmFilter

                        HmFilter -> EmFilter  : message
                    deactivate HmFilter

                EmFilter --> Config  : message
            deactivate EmFilter
            end alt

            alt filter = t
            Config -> EmFilter : createEmail(String sender, String receiver, String subject, String message)
                activate EmFilter

                    EmFilter -> YhFilter: createEmail(String sender, String receiver, String subject, String message)
                        activate YhFilter

                        YhFilter -> EmFilter : message
                    deactivate YhFilter

                EmFilter --> Config  : message
            deactivate EmFilter
            end alt
            <-- Config  : message
        deactivate Config

@enduml